<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report Abuse - yurl.ai</title>
    <meta name="description" content="Report abuse or problematic content on yurl.ai">
    <link rel="icon" type="image/png" href="/assets/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,600;0,700;0,800;1,400;1,600;1,700;1,800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/style.css?v=202505272350">
    <style>
        .report-content {
            max-width: 700px;
            margin: 0 auto;
            padding: 2rem;
        }
        .report-content h1 {
            color: var(--accent-primary);
            margin-bottom: 1rem;
            text-align: center;
        }
        .back-link {
            display: inline-block;
            margin-bottom: 2rem;
            color: var(--accent-primary);
            text-decoration: none;
            font-weight: 500;
        }
        .back-link:hover {
            text-decoration: underline;
        }
        .report-form {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.625rem;
            padding: 2rem;
            margin-top: 2rem;
        }
        .form-group {
            margin-bottom: 1.5rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--input-border-color);
            border-radius: 0.375rem;
            background-color: var(--input-bg);
            color: var(--text-primary);
            font-family: var(--font-primary);
            transition: border-color var(--time-fast) var(--ease-standard);
        }
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px var(--input-focus-shadow);
        }
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        .submit-button {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: var(--button-text-color);
            border: none;
            padding: 0.875rem 2rem;
            border-radius: 0.375rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--time-fast) var(--ease-standard);
            width: 100%;
            font-size: var(--fs-medium);
        }
        .submit-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px var(--accent-glow);
        }
        .submit-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .success-message {
            background-color: #10b981;
            color: white;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 1rem;
            text-align: center;
            display: none;
        }
        .error-message {
            background-color: #ef4444;
            color: white;
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 1rem;
            text-align: center;
            display: none;
        }
        .info-box {
            background-color: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-left: 4px solid var(--accent-primary);
        }
        .info-box h3 {
            margin-top: 0;
            margin-bottom: 1rem;
            color: var(--accent-primary);
        }
        .info-box ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        .info-box li {
            margin-bottom: 0.5rem;
        }
        .contact-info {
            background-color: var(--input-bg);
            border-radius: 0.375rem;
            padding: 1rem;
            margin-top: 2rem;
            text-align: center;
            font-size: var(--fs-small);
            color: var(--text-secondary);
        }
        .char-counter {
            font-size: var(--fs-small);
            color: var(--text-secondary);
            text-align: right;
            margin-top: 0.25rem;
        }
        .char-counter.warning {
            color: #f59e0b;
        }
        .char-counter.error {
            color: #ef4444;
        }
    </style>
</head>

<body>
    <button class="theme-toggle-button" id="themeToggle" aria-label="Toggle theme">
        <svg class="icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"/>
        </svg>
        <svg class="icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z"/>
        </svg>
    </button>

    <div class="report-content">
        <a href="/" class="back-link">‚Üê Back to yurl.ai</a>
        
        <h1>Report Abuse</h1>

        <div class="info-box">
            <h3>üö® When to Report</h3>
            <p>Please report yurl.ai shortened URLs that contain or link to:</p>
            <ul>
                <li><strong>Malicious content:</strong> Malware, viruses, or harmful software</li>
                <li><strong>Illegal content:</strong> Content that violates laws in any jurisdiction</li>
                <li><strong>Phishing/Scams:</strong> Fraudulent websites attempting to steal information</li>
                <li><strong>Spam:</strong> Unsolicited commercial content or bulk messaging</li>
                <li><strong>Copyright violations:</strong> Unauthorized use of copyrighted material</li>
                <li><strong>Harassment/Abuse:</strong> Threatening, abusive, or harassing content</li>
                <li><strong>Adult content involving minors:</strong> Any illegal adult content</li>
                <li><strong>Violence promotion:</strong> Content promoting illegal violence or activities</li>
            </ul>
        </div>

        <form class="report-form" id="reportForm">
            <div class="form-group">
                <label for="reportUrl">Problematic yurl.ai URL *</label>
                <input type="url" id="reportUrl" name="reportUrl" placeholder="https://yurl.ai/example-slug" required maxlength="1024">
                <div class="char-counter" id="urlCounter">0/1024 characters</div>
                <small style="color: var(--text-secondary); font-size: var(--fs-small);">
                    Please provide the full yurl.ai URL that you're reporting
                </small>
            </div>
            
            <div class="form-group">
                <label for="reportReason">Primary reason for report *</label>
                <select id="reportReason" name="reportReason" required>
                    <option value="">Select a reason</option>
                    <option value="malware">Malware/Virus/Harmful Software</option>
                    <option value="phishing">Phishing/Scam/Fraud</option>
                    <option value="illegal">Illegal Content</option>
                    <option value="spam">Spam/Unsolicited Content</option>
                    <option value="copyright">Copyright/IP Violation</option>
                    <option value="harassment">Harassment/Threats/Abuse</option>
                    <option value="adult-minors">Adult Content Involving Minors</option>
                    <option value="violence">Promotion of Violence/Illegal Activities</option>
                    <option value="privacy">Privacy Violation/Doxxing</option>
                    <option value="other">Other (please specify in details)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="reportDescription">Detailed description *</label>
                <textarea id="reportDescription" name="reportDescription" rows="5" placeholder="Please provide specific details about the issue, including what you found when you visited the URL and why it violates our terms..." required maxlength="1024"></textarea>
                <div class="char-counter" id="descriptionCounter">0/1024 characters</div>
            </div>

            <div class="form-group">
                <label for="reportEvidence">Additional evidence (optional)</label>
                <textarea id="reportEvidence" name="reportEvidence" rows="3" placeholder="Screenshots descriptions, timestamps, or other relevant information that supports your report..." maxlength="1024"></textarea>
                <div class="char-counter" id="evidenceCounter">0/1024 characters</div>
            </div>
            
            <div class="form-group">
                <label for="reportEmail">Your email (optional)</label>
                <input type="email" id="reportEmail" name="reportEmail" placeholder="your@email.com" maxlength="1024">
                <div class="char-counter" id="emailCounter">0/1024 characters</div>
                <small style="color: var(--text-secondary); font-size: var(--fs-small);">
                    Provide your email if you want updates on this report. We will not use it for any other purpose.
                </small>
            </div>

            <div class="form-group">
                <label for="reportUrgency">Urgency level</label>
                <select id="reportUrgency" name="reportUrgency">
                    <option value="normal">Normal - Standard review process</option>
                    <option value="high">High - Potentially harmful content</option>
                    <option value="critical">Critical - Immediate danger/illegal content</option>
                </select>
            </div>
            
            <button type="submit" class="submit-button" id="submitButton">
                Submit Report
            </button>

            <div class="success-message" id="successMessage">
                <strong>‚úÖ Report submitted successfully!</strong><br>
                Thank you for helping keep yurl.ai safe. We will investigate this issue promptly and take appropriate action.
            </div>

            <div class="error-message" id="errorMessage">
                <strong>‚ùå Error submitting report</strong><br>
                Please try again. If the problem persists, you can contact us directly.
            </div>
        </form>

        <div class="contact-info">
            <p><strong>Emergency Contact:</strong> For critical security issues or legal matters requiring immediate attention, 
            you may also contact the service operator directly through the GitHub repository.</p>
            <p><strong>Response Time:</strong> We aim to review all reports within 24-48 hours. Critical reports are prioritized.</p>
        </div>
    </div>

    <footer class="site-footer">
        <p>
            Made by <a href="https://onur.works" target="_blank" rel="noopener noreferrer">onur.works</a> | 
            <a href="https://github.com/OnurGumus/YURL" target="_blank" rel="noopener noreferrer">View on GitHub</a> |
            <a href="/privacy.html" rel="noopener noreferrer">Privacy Policy</a>
        </p>
    </footer>

    <script>
        // Character counter functionality
        function updateCharCounter(inputElement, counterElement) {
            const length = inputElement.value.length;
            const maxLength = 1024;
            counterElement.textContent = `${length}/${maxLength} characters`;
            
            // Update styling based on length
            counterElement.classList.remove('warning', 'error');
            if (length > maxLength * 0.9) {
                counterElement.classList.add('error');
            } else if (length > maxLength * 0.8) {
                counterElement.classList.add('warning');
            }
        }

        // Set up character counters
        document.addEventListener('DOMContentLoaded', function() {
            const fields = [
                { input: 'reportUrl', counter: 'urlCounter' },
                { input: 'reportDescription', counter: 'descriptionCounter' },
                { input: 'reportEvidence', counter: 'evidenceCounter' },
                { input: 'reportEmail', counter: 'emailCounter' }
            ];

            fields.forEach(field => {
                const inputElement = document.getElementById(field.input);
                const counterElement = document.getElementById(field.counter);
                
                if (inputElement && counterElement) {
                    // Update counter on input
                    inputElement.addEventListener('input', () => {
                        updateCharCounter(inputElement, counterElement);
                    });
                    
                    // Initialize counter
                    updateCharCounter(inputElement, counterElement);
                }
            });
        });

        // Check if user was redirected back after successful submission
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('submitted') === 'true') {
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
            // Clean up URL
            window.history.replaceState({}, document.title, window.location.pathname);
        }

        document.getElementById('reportForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitButton = document.getElementById('submitButton');
            const successMessage = document.getElementById('successMessage');
            const errorMessage = document.getElementById('errorMessage');
            
            // Hide previous messages
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // Client-side validation
            const maxLength = 1024; // 1KB limit
            const formData = new FormData(this);
            const reportData = Object.fromEntries(formData.entries());
            
            // Validate field lengths
            const fieldsToValidate = [
                { name: 'reportUrl', value: reportData.reportUrl, label: 'URL' },
                { name: 'reportReason', value: reportData.reportReason, label: 'Reason' },
                { name: 'reportDescription', value: reportData.reportDescription, label: 'Description' },
                { name: 'reportUrgency', value: reportData.reportUrgency, label: 'Urgency' }
            ];
            
            const optionalFields = [
                { name: 'reportEvidence', value: reportData.reportEvidence, label: 'Evidence' },
                { name: 'reportEmail', value: reportData.reportEmail, label: 'Email' }
            ];
            
            // Check required fields
            for (const field of fieldsToValidate) {
                if (!field.value || field.value.trim().length === 0) {
                    errorMessage.textContent = `${field.label} is required.`;
                    errorMessage.style.display = 'block';
                    return;
                }
                if (field.value.length > maxLength) {
                    errorMessage.textContent = `${field.label} exceeds maximum length of ${maxLength} characters.`;
                    errorMessage.style.display = 'block';
                    return;
                }
            }
            
            // Check optional fields length
            for (const field of optionalFields) {
                if (field.value && field.value.length > maxLength) {
                    errorMessage.textContent = `${field.label} exceeds maximum length of ${maxLength} characters.`;
                    errorMessage.style.display = 'block';
                    return;
                }
            }
            
            // Check description length minimum
            if (reportData.reportDescription.length < 10 && reportData.reportReason !== 'other') {
                errorMessage.textContent = 'Please provide a more detailed description (at least 10 characters).';
                errorMessage.style.display = 'block';
                return;
            }
            
            // Check for suspicious content
            const description = reportData.reportDescription.toLowerCase();
            if (description.includes('script>') || description.includes('<iframe') || description.includes('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa')) {
                errorMessage.textContent = 'Report contains suspicious content. Please provide a legitimate report.';
                errorMessage.style.display = 'block';
                return;
            }
            
            // Show loading state
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
            
            try {
                const response = await fetch('/api/report-abuse', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(reportData),
                });
                
                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({ error: 'Unknown error occurred' }));
                    throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
                }
                
                const result = await response.json();
                console.log('Report submitted successfully:', result);
                
                // Success
                successMessage.innerHTML = `<strong>‚úÖ Report submitted successfully!</strong><br>Report ID: ${result.reportId}<br>Thank you for helping keep yurl.ai safe. We will investigate this issue promptly and take appropriate action.`;
                successMessage.style.display = 'block';
                this.reset();
                successMessage.scrollIntoView({ behavior: 'smooth' });
                
            } catch (error) {
                console.error('Failed to submit report:', error);
                errorMessage.innerHTML = `<strong>‚ùå Error submitting report</strong><br>${error.message}`;
                errorMessage.style.display = 'block';
                errorMessage.scrollIntoView({ behavior: 'smooth' });
            } finally {
                // Re-enable button
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Report';
            }
        });
    </script>
    <script src="/theme.js?v=202505272350" defer></script>
</body>

</html> 